// add the trailing slices to articulated consist
switch (FEAT_TRAINS, SELF, ${consist.id}_articulated_cb_switch, extra_callback_info1) {
    <tal:trailing_slices repeat="trailing_slice consist.slices">
        ${repeat.trailing_slice.index}: return ${trailing_slice.id};
    </tal:trailing_slices>
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
